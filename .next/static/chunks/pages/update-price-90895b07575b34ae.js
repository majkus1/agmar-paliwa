(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{5419:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/update-price",function(){return a(9090)}])},9090:function(e,t,a){"use strict";a.r(t);var r=a(5893),n=a(7294),i=a(6154),u=a(1163),l=a(1664),p=a.n(l);t.default=function(){let[e,t]=(0,n.useState)(""),[a,l]=(0,n.useState)(""),c=(0,u.useRouter)(),o=async()=>{try{let e=await i.Z.get("https://agmar-paliwa.pl/fuel-price"),a=await i.Z.get("https://agmar-paliwa.pl/date-price");t(e.data.price),l(a.data.datprice)}catch(e){console.error("Error fetching data",e)}};(0,n.useEffect)(()=>{o()},[]);let s=async t=>{t.preventDefault();let r=localStorage.getItem("token");if(!r){alert("You must be logged in to update the price and date"),c.push("/login");return}try{await i.Z.put("https://agmar-paliwa.pl/fuel-price",{price:e},{headers:{Authorization:r}}),await i.Z.put("https://agmar-paliwa.pl/date-price",{datprice:a},{headers:{Authorization:r}}),alert("Price and date updated successfully")}catch(e){alert("Failed to update price and date")}};return(0,r.jsxs)("form",{onSubmit:s,className:"login-to-panel",children:[(0,r.jsx)("h1",{children:"AGMAR"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"New price",required:!0}),(0,r.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Date of new price",required:!0}),(0,r.jsx)("button",{type:"submit",children:"Zmień cenę i datę"}),(0,r.jsx)(p(),{href:"/",children:"Strona gł\xf3wna"})]})}},1163:function(e,t,a){e.exports=a(6885)}},function(e){e.O(0,[664,154,774,888,179],function(){return e(e.s=5419)}),_N_E=e.O()}]);